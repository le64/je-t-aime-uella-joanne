<!DOCTYPE html>
<html lang="fr">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Je t'aime ‚ù§Ô∏è</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet">
   <style>
      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
      }

      body {
         font-family: 'Poppins', sans-serif;
         background: linear-gradient(135deg, #ffeef8 0%, #fff5f7 50%, #ffe8f0 100%);
         color: #5a4a5a;
         overflow-x: hidden;
      }

      .hearts-container {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         pointer-events: none;
         z-index: 1;
         overflow: hidden;
      }

      .heart {
         position: absolute;
         font-size: 20px;
         color: rgba(255, 182, 193, 0.6);
         animation: fall linear infinite;
      }

      @keyframes fall {
         to {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
         }
      }

      .sparkle {
         position: fixed;
         width: 4px;
         height: 4px;
         background: radial-gradient(circle, #d4a373, transparent);
         border-radius: 50%;
         pointer-events: none;
         z-index: 9999;
         animation: sparkleAnim 1s ease-out forwards;
      }

      @keyframes sparkleAnim {
         to {
            transform: translate(var(--tx), var(--ty)) scale(0);
            opacity: 0;
         }
      }

      header {
         position: relative;
         height: 100vh;
         display: flex;
         flex-direction: column;
         justify-content: center;
         align-items: center;
         text-align: center;
         background: linear-gradient(135deg, rgba(255, 223, 236, 0.8), rgba(255, 240, 245, 0.9));
         backdrop-filter: blur(10px);
         z-index: 2;
         padding: 20px;
         overflow: hidden;
      }

      .floating-hearts {
         position: absolute;
         font-size: 3rem;
         opacity: 0.3;
         animation: float 6s ease-in-out infinite;
      }

      @keyframes float {

         0%,
         100% {
            transform: translateY(0) rotate(0deg);
         }

         50% {
            transform: translateY(-30px) rotate(10deg);
         }
      }

      .heart-circle {
         position: absolute;
         width: 100px;
         height: 100px;
         border: 3px solid rgba(212, 115, 158, 0.3);
         border-radius: 50%;
         animation: pulse 3s ease-in-out infinite;
      }

      @keyframes pulse {

         0%,
         100% {
            transform: scale(1);
            opacity: 0.5;
         }

         50% {
            transform: scale(1.2);
            opacity: 0.2;
         }
      }

      .love-message {
         position: absolute;
         font-size: 1.2rem;
         color: #d4739e;
         opacity: 0;
         font-weight: 600;
         animation: fadeInOut 4s ease-in-out infinite;
         text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.8);
      }

      h1 {
         font-family: 'Playfair Display', serif;
         font-size: clamp(2.5rem, 8vw, 5rem);
         color: #d4739e;
         margin-bottom: 20px;
         text-shadow: 2px 2px 4px rgba(212, 115, 158, 0.2);
         animation: fadeInScale 1.5s ease-out;
      }

      .subtitle {
         font-size: clamp(1rem, 3vw, 1.5rem);
         color: #8a6d8a;
         font-weight: 300;
         max-width: 600px;
         line-height: 1.6;
         animation: fadeIn 2s ease-out;
      }

      .scroll-hint {
         position: absolute;
         bottom: 30px;
         font-size: 2rem;
         color: #d4739e;
         animation: bounce 2s infinite;
         cursor: pointer;
      }

      @keyframes bounce {

         0%,
         100% {
            transform: translateY(0);
         }

         50% {
            transform: translateY(-10px);
         }
      }

      @keyframes fadeInOut {

         0%,
         100% {
            opacity: 0;
            transform: translateY(20px);
         }

         50% {
            opacity: 1;
            transform: translateY(0);
         }
      }

      .particle {
         position: absolute;
         width: 10px;
         height: 10px;
         background: radial-gradient(circle, #d4a373, #d4739e);
         border-radius: 50%;
         opacity: 0.6;
         animation: particleFloat 8s ease-in-out infinite;
      }

      @keyframes particleFloat {

         0%,
         100% {
            transform: translate(0, 0) scale(1);
            opacity: 0.6;
         }

         25% {
            transform: translate(100px, -100px) scale(1.5);
            opacity: 0.8;
         }

         50% {
            transform: translate(200px, -50px) scale(1);
            opacity: 0.4;
         }

         75% {
            transform: translate(100px, 50px) scale(0.8);
            opacity: 0.7;
         }
      }

      @keyframes fadeInScale {
         from {
            opacity: 0;
            transform: scale(0.8);
         }

         to {
            opacity: 1;
            transform: scale(1);
         }
      }

      @keyframes fadeIn {
         from {
            opacity: 0;
         }

         to {
            opacity: 1;
         }
      }

      section {
         position: relative;
         z-index: 2;
         max-width: 1000px;
         margin: 60px auto;
         padding: 40px 20px;
         background: rgba(255, 255, 255, 0.9);
         border-radius: 20px;
         box-shadow: 0 10px 40px rgba(212, 115, 158, 0.15);
         opacity: 0;
         transform: translateY(50px);
         transition: all 0.8s ease;
      }

      section.visible {
         opacity: 1;
         transform: translateY(0);
      }

      h2 {
         font-family: 'Playfair Display', serif;
         font-size: clamp(1.8rem, 5vw, 2.5rem);
         color: #d4739e;
         margin-bottom: 30px;
         text-align: center;
      }

      .reasons-container {
         text-align: center;
      }

      .reason-display {
         font-size: clamp(1.1rem, 3vw, 1.4rem);
         color: #6a5a6a;
         min-height: 80px;
         display: flex;
         align-items: center;
         justify-content: center;
         margin: 30px 0;
         padding: 20px;
         background: linear-gradient(135deg, #fff0f5, #ffe8f0);
         border-radius: 15px;
         border-left: 4px solid #d4a373;
         font-style: italic;
      }

      button {
         background: linear-gradient(135deg, #d4739e, #c96b95);
         color: white;
         border: none;
         padding: 15px 40px;
         font-size: 1.1rem;
         border-radius: 50px;
         cursor: pointer;
         font-family: 'Poppins', sans-serif;
         font-weight: 600;
         transition: all 0.3s ease;
         box-shadow: 0 5px 20px rgba(212, 115, 158, 0.3);
         position: relative;
         overflow: hidden;
      }

      button::before {
         content: '';
         position: absolute;
         top: 50%;
         left: 50%;
         width: 0;
         height: 0;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.3);
         transform: translate(-50%, -50%);
         transition: width 0.6s, height 0.6s;
      }

      button:hover::before {
         width: 300px;
         height: 300px;
      }

      button:hover {
         transform: translateY(-3px);
         box-shadow: 0 8px 30px rgba(212, 115, 158, 0.4);
      }

      button:active {
         transform: translateY(-1px);
      }

      .story-text {
         font-size: 1.1rem;
         line-height: 1.8;
         color: #6a5a6a;
         margin-bottom: 20px;
         text-align: justify;
      }

      .memories-grid {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
         gap: 25px;
         margin-top: 30px;
      }

      .memory-card {
         background: linear-gradient(135deg, #fff0f5, #ffe8f0);
         border-radius: 15px;
         padding: 25px;
         border: 3px solid rgba(212, 115, 158, 0.2);
         transition: all 0.4s ease;
         cursor: pointer;
         position: relative;
         overflow: hidden;
      }

      .memory-card::before {
         content: '';
         position: absolute;
         top: -50%;
         left: -50%;
         width: 200%;
         height: 200%;
         background: radial-gradient(circle, rgba(212, 163, 115, 0.1), transparent);
         opacity: 0;
         transition: opacity 0.4s;
      }

      .memory-card:hover::before {
         opacity: 1;
      }

      .memory-card:hover {
         transform: translateY(-10px) scale(1.02);
         box-shadow: 0 15px 40px rgba(212, 115, 158, 0.3);
      }

      .memory-icon {
         font-size: 3rem;
         margin-bottom: 15px;
      }

      .memory-title {
         font-size: 1.3rem;
         font-weight: 600;
         color: #d4739e;
         margin-bottom: 10px;
      }

      .memory-text {
         font-size: 0.95rem;
         color: #6a5a6a;
         line-height: 1.6;
      }

      .audio-section {
         text-align: center;
      }

      .audio-btn {
         background: linear-gradient(135deg, #d4a373, #c9975f);
         margin-top: 20px;
      }

      .music-note {
         position: absolute;
         font-size: 2rem;
         opacity: 0;
         animation: musicFloat 3s ease-out forwards;
      }

      @keyframes musicFloat {
         0% {
            opacity: 1;
            transform: translateY(0) rotate(0deg);
         }

         100% {
            opacity: 0;
            transform: translateY(-150px) rotate(360deg);
         }
      }

      .love-quote {
         text-align: center;
         font-style: italic;
         color: #d4739e;
         font-size: 1.3rem;
         margin: 20px 0;
         padding: 20px;
         background: linear-gradient(135deg, rgba(255, 240, 245, 0.6), rgba(255, 232, 240, 0.6));
         border-radius: 15px;
         border-left: 4px solid #d4a373;
         opacity: 0;
         transform: translateX(-50px);
         transition: all 0.8s ease;
      }

      .love-quote.visible {
         opacity: 1;
         transform: translateX(0);
      }

      .floating-emoji {
         position: fixed;
         font-size: 2.5rem;
         pointer-events: none;
         z-index: 9999;
         animation: emojiRise 4s ease-out forwards;
      }

      @keyframes emojiRise {
         0% {
            opacity: 1;
            transform: translateY(0) scale(1);
         }

         100% {
            opacity: 0;
            transform: translateY(-300px) scale(1.5) rotate(20deg);
         }
      }

      .visualizer {
         display: flex;
         justify-content: center;
         align-items: flex-end;
         height: 100px;
         gap: 5px;
         margin: 30px 0;
      }

      .bar {
         width: 8px;
         background: linear-gradient(to top, #d4739e, #d4a373);
         border-radius: 5px;
         transition: height 0.1s ease;
      }

      .love-counter {
         text-align: center;
         font-size: 1.5rem;
         color: #d4739e;
         margin: 30px 0;
         font-weight: 600;
      }

      .typing-text {
         overflow: hidden;
         border-right: 3px solid #d4739e;
         white-space: nowrap;
         margin: 0 auto;
         animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
         display: inline-block;
      }

      @keyframes typing {
         from {
            width: 0;
         }

         to {
            width: 100%;
         }
      }

      @keyframes blink-caret {

         from,
         to {
            border-color: transparent;
         }

         50% {
            border-color: #d4739e;
         }
      }

      footer {
         position: relative;
         z-index: 2;
         text-align: center;
         padding: 40px 20px;
         color: #8a6d8a;
         font-size: 0.9rem;
      }

      @media (max-width: 768px) {
         section {
            margin: 40px 20px;
            padding: 30px 15px;
         }

         .memories-grid {
            grid-template-columns: 1fr;
            gap: 20px;
         }
      }
   </style>
</head>

<body>
   <div class="hearts-container" id="heartsContainer"></div>

   <header id="header">
      <div class="heart-circle" style="top: 15%; left: 10%;"></div>
      <div class="heart-circle" style="top: 70%; left: 85%; animation-delay: 1s;"></div>
      <div class="heart-circle" style="top: 25%; right: 15%; animation-delay: 2s;"></div>

      <div class="floating-hearts" style="top: 20%; left: 15%; animation-delay: 0s;">üíï</div>
      <div class="floating-hearts" style="top: 60%; left: 10%; animation-delay: 2s;">üíñ</div>
      <div class="floating-hearts" style="top: 30%; right: 20%; animation-delay: 1s;">üíó</div>
      <div class="floating-hearts" style="top: 70%; right: 15%; animation-delay: 3s;">üíù</div>

      <div class="love-message" id="msg1" style="top: 10%; left: 50%; animation-delay: 0s;">Tu es mon monde</div>
      <div class="love-message" id="msg2" style="top: 80%; left: 30%; animation-delay: 2s;">Mon √©toile</div>
      <div class="love-message" id="msg3" style="top: 15%; right: 20%; animation-delay: 4s;">Ma vie</div>

      <h1 id="mainTitle">Je t'aime, Uella Joanne ‚ù§Ô∏è</h1>
      <p class="subtitle">Chaque instant avec toi est un tr√©sor pr√©cieux qui illumine ma vie</p>
      <div class="scroll-hint" onclick="scrollToContent()">‚Üì</div>
   </header>

   <section id="counter-section">
      <h2>Notre Amour Grandit Chaque Seconde üíï</h2>
      <div class="love-counter">
         <span id="loveCounter">0</span> secondes de bonheur ensemble
      </div>
   </section>

   <section id="reasons-section">
      <h2>Pourquoi je t'aime üíï</h2>
      <div class="love-quote">
         "Dans tes yeux, j'ai trouv√© mon foyer. Dans tes bras, j'ai trouv√© ma paix."
      </div>
      <div class="reasons-container">
         <div class="reason-display" id="reasonDisplay">
            Clique sur le bouton pour d√©couvrir une raison...
         </div>
         <button onclick="showRandomReason()">Encore une raison ‚ù§Ô∏è</button>
      </div>
   </section>

   <section id="story-section">
      <h2>Notre Histoire üìñ</h2>
      <div class="love-quote">
         "L'amour n'est pas seulement un sentiment, c'est un choix que je fais chaque jour avec toi."
      </div>

      <div class="love-letter">
         <p>
            <span class="interactive-heart" onclick="createConfetti(event)">‚ù§Ô∏è</span>
            Depuis le jour o√π nos regards se sont crois√©s, j'ai su que tu √©tais sp√©ciale. Ce premier sourire, cette
            premi√®re conversation, tout semblait magique. Tu es entr√©e dans ma vie comme un rayon de soleil qui dissipe
            les nuages.
         </p>
      </div>

      <p class="story-text">
         Chaque moment pass√© ensemble est grav√© dans mon c≈ìur. Nos rires, nos discussions interminables, nos silences
         complices... Tu rends chaque journ√©e plus belle, plus lumineuse. Avec toi, j'ai d√©couvert ce qu'est l'amour
         v√©ritable.
      </p>

      <div class="love-letter">
         <p>
            <span class="interactive-heart" onclick="createConfetti(event)">üíï</span>
            Tu es ma meilleure amie, ma confidente, mon inspiration. Tu me fais grandir, tu me rends meilleur. Je veux
            continuer √† √©crire notre histoire ensemble, page apr√®s page, dans le bonheur et la tendresse.
         </p>
      </div>

      <div style="text-align: center; margin-top: 30px;">
         <p style="font-style: italic; color: #d4739e; font-size: 1.1rem;">
            Notre amour grandit chaque jour...
         </p>
         <div class="progress-bar">
            <div class="progress-fill" id="loveProgress" style="width: 0%"></div>
         </div>
      </div>
   </section>

   <section id="memories-section">
      <h2>Ce Qui Rend Notre Amour Unique üåπ</h2>
      <div class="memories-grid">
         <div class="memory-card" onclick="animateCard(this)">
            <div class="memory-icon">üíå</div>
            <div class="memory-title">Nos Messages</div>
            <div class="memory-text">Ces petits textos du matin qui illuminent ma journ√©e et me font sourire comme un
               idiot</div>
         </div>
         <div class="memory-card" onclick="animateCard(this)">
            <div class="memory-icon">üåô</div>
            <div class="memory-title">Nos Nuits √âtoil√©es</div>
            <div class="memory-text">Ces longues discussions jusqu'au bout de la nuit, o√π le temps n'existe plus</div>
         </div>
         <div class="memory-card" onclick="animateCard(this)">
            <div class="memory-icon">üå∏</div>
            <div class="memory-title">Nos Promenades</div>
            <div class="memory-text">Main dans la main, d√©couvrant le monde √† deux, chaque pas est une aventure (C'√©tait
               juste hier mais j'ai aim√©)</div>
         </div>
         <div class="memory-card" onclick="animateCard(this)">
            <div class="memory-icon">üí´</div>
            <div class="memory-title">Nos R√™ves</div>
            <div class="memory-text">Tous ces projets qu'on imagine ensemble, notre futur qui s'√©crit jour apr√®s jour
            </div>
         </div>
      </div>
   </section>

   <section class="audio-section" id="audio-section">
      <h2>Un Message Pour Toi üéµ</h2>
      <div class="love-quote">
         "La musique est le langage de l'√¢me, et cette chanson parle de mon amour pour toi."
      </div>
      <p class="story-text" style="text-align: center;">
         <span class="typing-text" id="typingText"></span>
      </p>
      <div class="visualizer" id="visualizer">
         <div class="bar" style="height: 20px;"></div>
         <div class="bar" style="height: 40px;"></div>
         <div class="bar" style="height: 30px;"></div>
         <div class="bar" style="height: 50px;"></div>
         <div class="bar" style="height: 35px;"></div>
         <div class="bar" style="height: 45px;"></div>
         <div class="bar" style="height: 25px;"></div>
         <div class="bar" style="height: 55px;"></div>
         <div class="bar" style="height: 30px;"></div>
         <div class="bar" style="height: 40px;"></div>
      </div>
      <button class="audio-btn" id="audioBtn" onclick="toggleAudio()">üé∂ Jouer la musique</button>
      <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #8a6d8a;">
         <span class="interactive-heart" onclick="createConfetti(event)" style="font-size: 1.5rem;">üíù</span>
         Clique sur le bouton pour √©couter notre chanson sp√©ciale
      </p>
      <!-- <div
         style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(212, 163, 115, 0.1); border-radius: 10px; border-left: 3px solid #d4a373;">
         <p style="font-size: 0.85rem; color: #6a5a6a;">
            üí° <strong>Astuce :</strong> Si ta musique ne joue pas, le site jouera automatiquement une m√©lodie
            romantique synth√©tis√©e !<br>
            Pour utiliser ton propre fichier MP3, place-le dans le m√™me dossier et modifie le code : <code
               style="background: #fff; padding: 2px 6px; border-radius: 3px; font-size: 0.8rem;">sources = ['ton-fichier.mp3'];</code>
         </p>
      </div> -->
   </section>

   <footer>
      <p>Avec tout mon amour, pour toujours ‚ù§Ô∏è</p>
   </footer>

   <script>
      const reasons = [
         "Ton sourire illumine mes journ√©es les plus sombres",
         "Tu me comprends comme personne d'autre",
         "Ta gentillesse et ta bienveillance me touchent profond√©ment",
         "Tu me fais rire m√™me quand je n'ai pas envie",
         "Ton regard me fait fondre √† chaque fois",
         "Tu es ma meilleure amie et mon √¢me s≈ìur",
         "Ta pr√©sence suffit √† me rendre heureux",
         "Tu m'inspires √† devenir une meilleure personne",
         "Tes petites attentions me font chavirer",
         "Tu es belle, √† l'int√©rieur comme √† l'ext√©rieur",
         "Tu crois en moi m√™me quand je doute",
         "Nos conversations me passionnent toujours",
         "Tu as ce petit quelque chose d'unique",
         "Tu rends chaque moment magique",
         "Mon c≈ìur bat plus fort quand je pense √† toi"
      ];

      let usedReasons = [];
      let isPlaying = false;
      let visualizerInterval;
      let loveCounter = 0;
      let audioElement = null;
      let audioContext = null;
      let oscillator = null;

      // Cr√©er l'√©l√©ment audio avec plusieurs sources de secours
      function initAudio() {
         if (!audioElement) {
            audioElement = document.createElement('audio');
            audioElement.crossOrigin = "anonymous";

            // Essayer plusieurs sources
            const sources = [
               'https://files.catbox.moe/7voqup.mp3',
               'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'
            ];

            sources.forEach(src => {
               const source = document.createElement('source');
               source.src = src;
               source.type = 'audio/mpeg';
               audioElement.appendChild(source);
            });

            audioElement.loop = true;
            audioElement.volume = 0.7;
            audioElement.preload = 'auto';

            // G√©rer les √©v√©nements audio
            audioElement.addEventListener('play', () => {
               startVisualizer();
               spawnMusicNotes();
            });

            audioElement.addEventListener('pause', () => {
               stopVisualizer();
            });

            audioElement.addEventListener('ended', () => {
               isPlaying = false;
               updateAudioButton();
            });

            audioElement.addEventListener('error', (e) => {
               console.log('Erreur audio, utilisation du son synth√©tis√©');
               useSynthesizedSound();
            });
         }
         return audioElement;
      }

      // Utiliser un son synth√©tis√© comme solution de secours
      function useSynthesizedSound() {
         if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
         }
         playSynthesizedMelody();
      }

      function playSynthesizedMelody() {
         if (!isPlaying) return;

         const melody = [523.25, 587.33, 659.25, 698.46, 783.99, 698.46, 659.25, 587.33];
         let noteIndex = 0;

         function playNote() {
            if (!isPlaying) return;

            oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.type = 'sine';
            oscillator.frequency.value = melody[noteIndex % melody.length];

            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + 0.05);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);

            noteIndex++;

            if (isPlaying) {
               setTimeout(playNote, 500);
            }
         }

         playNote();
      }

      function stopSynthesizedSound() {
         if (oscillator) {
            try {
               oscillator.stop();
            } catch (e) { }
            oscillator = null;
         }
      }

      function showRandomReason() {
         if (usedReasons.length === reasons.length) {
            usedReasons = [];
         }

         let availableReasons = reasons.filter((r, i) => !usedReasons.includes(i));
         let randomIndex = Math.floor(Math.random() * availableReasons.length);
         let selectedReason = availableReasons[randomIndex];
         let originalIndex = reasons.indexOf(selectedReason);

         usedReasons.push(originalIndex);

         const display = document.getElementById('reasonDisplay');
         display.style.opacity = '0';
         display.style.transform = 'scale(0.9)';

         setTimeout(() => {
            display.textContent = selectedReason;
            display.style.transition = 'all 0.5s ease';
            display.style.opacity = '1';
            display.style.transform = 'scale(1)';
            createHeartBurst();

            // Effet confetti al√©atoire
            if (Math.random() > 0.5) {
               const rect = display.getBoundingClientRect();
               createConfetti({
                  clientX: rect.left + rect.width / 2,
                  clientY: rect.top + rect.height / 2
               });
            }
         }, 200);
      }

      function createHeart() {
         const heart = document.createElement('div');
         heart.classList.add('heart');
         heart.textContent = '‚ù§Ô∏è';
         heart.style.left = Math.random() * 100 + 'vw';
         heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
         heart.style.opacity = Math.random() * 0.5 + 0.3;
         heart.style.fontSize = (Math.random() * 15 + 15) + 'px';

         document.getElementById('heartsContainer').appendChild(heart);

         setTimeout(() => {
            heart.remove();
         }, 8000);
      }

      function createHeartBurst() {
         for (let i = 0; i < 10; i++) {
            setTimeout(() => createHeart(), i * 100);
         }
      }

      setInterval(createHeart, 800);

      document.addEventListener('mousemove', (e) => {
         if (Math.random() > 0.95) {
            createSparkle(e.clientX, e.clientY);
         }
      });

      function createSparkle(x, y) {
         const sparkle = document.createElement('div');
         sparkle.classList.add('sparkle');
         sparkle.style.left = x + 'px';
         sparkle.style.top = y + 'px';
         sparkle.style.setProperty('--tx', (Math.random() - 0.5) * 100 + 'px');
         sparkle.style.setProperty('--ty', (Math.random() - 0.5) * 100 + 'px');
         document.body.appendChild(sparkle);

         setTimeout(() => sparkle.remove(), 1000);
      }

      function scrollToContent() {
         document.getElementById('counter-section').scrollIntoView({ behavior: 'smooth' });
      }

      const observer = new IntersectionObserver((entries) => {
         entries.forEach(entry => {
            if (entry.isIntersecting) {
               entry.target.classList.add('visible');

               // Animer les citations d'amour
               const quotes = entry.target.querySelectorAll('.love-quote');
               quotes.forEach((quote, index) => {
                  setTimeout(() => {
                     quote.classList.add('visible');
                  }, index * 300);
               });
            }
         });
      }, { threshold: 0.1 });

      document.querySelectorAll('section').forEach(section => {
         observer.observe(section);
      });

      function animateCard(card) {
         card.style.transform = 'scale(1.1) rotate(5deg)';
         setTimeout(() => {
            card.style.transform = 'scale(1) rotate(0deg)';
         }, 300);
         createHeartBurst();
         createFloatingEmoji(['üíï', 'üíñ', 'üíó', 'üíù', 'üíû'][Math.floor(Math.random() * 5)]);
      }

      setInterval(() => {
         loveCounter++;
         document.getElementById('loveCounter').textContent = loveCounter.toLocaleString();
      }, 1000);

      const typingTexts = [
         "Appuie sur le bouton pour √©couter notre m√©lodie...",
         "Une chanson sp√©cialement pour toi...",
         "Ferme les yeux et √©coute..."
      ];
      let textIndex = 0;
      let charIndex = 0;
      const typingElement = document.getElementById('typingText');

      function typeText() {
         if (charIndex < typingTexts[textIndex].length) {
            typingElement.textContent += typingTexts[textIndex].charAt(charIndex);
            charIndex++;
            setTimeout(typeText, 100);
         } else {
            setTimeout(() => {
               typingElement.textContent = '';
               charIndex = 0;
               textIndex = (textIndex + 1) % typingTexts.length;
               typeText();
            }, 3000);
         }
      }

      typeText();

      function toggleAudio() {
         if (!isPlaying) {
            const audio = initAudio();

            // Essayer de jouer l'audio
            const playPromise = audio.play();

            if (playPromise !== undefined) {
               playPromise.then(() => {
                  isPlaying = true;
                  updateAudioButton();
                  createFloatingEmoji('üéµ');
                  startVisualizer();
                  spawnMusicNotes();
               }).catch(err => {
                  console.log('Audio normal √©chou√©, utilisation du son synth√©tis√©');
                  isPlaying = true;
                  updateAudioButton();
                  useSynthesizedSound();
                  createFloatingEmoji('üéµ');
               });
            }
         } else {
            if (audioElement && !audioElement.paused) {
               audioElement.pause();
            }
            stopSynthesizedSound();
            isPlaying = false;
            updateAudioButton();
            stopVisualizer();
         }
      }

      function updateAudioButton() {
         const btn = document.getElementById('audioBtn');
         if (isPlaying) {
            btn.textContent = '‚è∏Ô∏è Pause';
            btn.style.background = 'linear-gradient(135deg, #c96b95, #d4739e)';
         } else {
            btn.textContent = 'üé∂ Jouer la musique';
            btn.style.background = 'linear-gradient(135deg, #d4a373, #c9975f)';
         }
      }

      function spawnMusicNotes() {
         if (!isPlaying) return;

         const section = document.getElementById('audio-section');
         const note = document.createElement('div');
         note.className = 'music-note';
         note.textContent = ['üéµ', 'üé∂', '‚ô™', '‚ô´'][Math.floor(Math.random() * 4)];
         note.style.left = (20 + Math.random() * 60) + '%';
         note.style.top = '60%';
         section.appendChild(note);

         setTimeout(() => note.remove(), 3000);

         if (isPlaying) {
            setTimeout(spawnMusicNotes, 800);
         }
      }

      function createFloatingEmoji(emoji) {
         const floatingEmoji = document.createElement('div');
         floatingEmoji.className = 'floating-emoji';
         floatingEmoji.textContent = emoji;
         floatingEmoji.style.left = (20 + Math.random() * 60) + '%';
         floatingEmoji.style.top = '50%';
         document.body.appendChild(floatingEmoji);

         setTimeout(() => floatingEmoji.remove(), 4000);
      }

      function createConfetti(event) {
         const colors = ['#d4739e', '#d4a373', '#ff9ec7', '#ffb6d9', '#ffd6e8'];

         for (let i = 0; i < 30; i++) {
            setTimeout(() => {
               const confetti = document.createElement('div');
               confetti.className = 'confetti';
               confetti.style.left = event.clientX + 'px';
               confetti.style.top = event.clientY + 'px';
               confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
               confetti.style.transform = `translate(${(Math.random() - 0.5) * 200}px, ${Math.random() * -100}px) rotate(${Math.random() * 360}deg)`;
               document.body.appendChild(confetti);

               setTimeout(() => confetti.remove(), 3000);
            }, i * 20);
         }

         createHeartBurst();
      }

      // Animation de la barre de progression de l'amour
      let progressValue = 0;
      setInterval(() => {
         progressValue += 0.1;
         if (progressValue > 100) progressValue = 0;
         document.getElementById('loveProgress').style.width = progressValue + '%';
      }, 100);

      function startVisualizer() {
         const bars = document.querySelectorAll('.bar');
         visualizerInterval = setInterval(() => {
            bars.forEach(bar => {
               const height = Math.random() * 60 + 20;
               bar.style.height = height + 'px';
            });
         }, 150);
      }

      function stopVisualizer() {
         clearInterval(visualizerInterval);
         const bars = document.querySelectorAll('.bar');
         bars.forEach((bar, index) => {
            bar.style.height = [20, 40, 30, 50, 35, 45, 25, 55, 30, 40][index] + 'px';
         });
      }

      for (let i = 0; i < 8; i++) {
         setTimeout(createHeart, i * 200);
      }

      // Cr√©er des particules flottantes sur la page d'accueil
      function createParticles() {
         const header = document.getElementById('header');
         for (let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 8 + 's';
            particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
            header.appendChild(particle);
         }
      }

      createParticles();

      // Animation interactive du titre
      const mainTitle = document.getElementById('mainTitle');
      let isHovering = false;

      mainTitle.addEventListener('mouseenter', () => {
         isHovering = true;
         animateTitle();
      });

      mainTitle.addEventListener('mouseleave', () => {
         isHovering = false;
      });

      function animateTitle() {
         if (!isHovering) return;

         mainTitle.style.transform = `scale(${1 + Math.random() * 0.1}) rotate(${Math.random() * 4 - 2}deg)`;
         mainTitle.style.color = `hsl(${330 + Math.random() * 20}, 70%, ${60 + Math.random() * 10}%)`;

         for (let i = 0; i < 5; i++) {
            const x = mainTitle.offsetLeft + mainTitle.offsetWidth / 2;
            const y = mainTitle.offsetTop + mainTitle.offsetHeight / 2;
            createSparkle(x + (Math.random() - 0.5) * 200, y + (Math.random() - 0.5) * 100);
         }

         setTimeout(() => {
            mainTitle.style.transform = 'scale(1) rotate(0deg)';
            if (isHovering) setTimeout(animateTitle, 100);
         }, 100);
      }

      // Effet de pulsation sur les cercles au clic
      document.querySelectorAll('.heart-circle').forEach(circle => {
         circle.addEventListener('click', function () {
            this.style.animation = 'none';
            setTimeout(() => {
               this.style.animation = 'pulse 1s ease-in-out 3';
            }, 10);
            createHeartBurst();
         });
      });

      // Rotation des messages d'amour
      const loveMessages = ['Tu es mon monde', 'Mon √©toile', 'Ma vie', 'Mon tout', 'Mon bonheur', 'Ma raison de sourire'];
      let msgIndex = 0;

      setInterval(() => {
         const msgs = document.querySelectorAll('.love-message');
         msgs.forEach((msg, i) => {
            msg.textContent = loveMessages[(msgIndex + i) % loveMessages.length];
         });
         msgIndex = (msgIndex + 1) % loveMessages.length;
      }, 6000);
       (function (l) {
         if (l.search[1] === "/") {
           var decoded = l.search
             .slice(1)
             .split("&")
             .map(function (s) {
               return s.replace(/~and~/g, "&");
             })
             .join("?");
           window.history.replaceState(
             null,
             null,
             l.pathname.slice(0, -1) + decoded + l.hash
           );
         }
       })(window.location);
   </script>
</body>


</html>
